
<p>
	このページは、コンテンツをコーディングする規則について記述しています。コンテンツ独自のCSS、JavaScriptを定義する場合の規則 についても含みます。<br />
</p>

<?php
	print( $px->theme()->autoindex() );
?>

<h2>独自ファイル格納ディレクトリ</h2>

<p>
	コンテンツファイルと同じ階層に、コンテンツファイルと同じ名前の拡張子を .files に変えた名前のディレクトリが、コンテンツ独自のファイル格納場所です。<br />
	例えば、<code>/abc/def/fhi.html</code> というコンテンツの場合、<code>/abc/def/fhi.files/*</code> を独占的に使うことができます。<br />
</p>

<p>
	外部CSS、画像などのリソースファイルはこの中に管理するようにしてください。また、このディレクトリ内での格納規則や命名規則は設けません。<br />
</p>

<h2>コンテンツ独自CSSを定義する</h2>
<p>
	コンテンツが独自に定義するCSSは、サイト全体(テーマ)で一元的に管理されているCSSと干渉し合っては不都合があります。この問題を避けるため、次の規則が設けられました。<br />
</p>
<ul>
	<li>コンテンツは、<code>&lt;div class=&quot;contents&quot;&gt;&lt;/div&gt;</code> の内側に設置される約束なので、コンテンツが独自に定義するCSSクラスは、.contents 以下にのみ効果があるように記述しなければならない。</li>
	<li>コンテンツが独自に定義するCSSクラスには、接頭辞 cont を付加しなければならない。</li>
	<li>テーマが提供するCSSモジュールの一部を改変して使うことはできない。ただし、テーマが明示的に許可している場合は、その範囲で改変することができる。</li>
</ul>



<h2>コンテンツ独自JavaScriptを定義する</h2>

<p>
	コンテンツは独自にJavaSctiptを記述し、埋め込むことができます。<br />
	ただし、次の規則に従うようにしてください。<br />
</p>
<ul>
	<li>ローカルなJavaScriptメソッドには、接頭辞contを付加する。</li>
	<li>コンテンツのHTMLソースは<code>&lt;div class=&quot;contents&quot;&gt;&lt;/div&gt;</code>に内包される規則のため、それ以外のDOMエレメントを改変するようなスクリプトを記述してはならない。</li>
	<li>コンテンツが独自に定義したエレメントのid属性は、接頭辞contを付加する。</li>
</ul>

<h2>JavaScriptライブラリの利用</h2>
<h3>テーマがロードするJavaScriptライブラリ</h3>
<p>
	以下のライブラリは、テーマにより標準的にロードするため、コンテンツが明示的にロードする必要はありません。<br />
</p>
<ul>
	<li>jQuery</li>
</ul>

<h3>コンテンツによって必要な場合にロードできる共有ライブラリ</h3>
<p>
	以下のライブラリは、共有リソースとしてテーマによって用意されているが、特にコンテンツが必要としない限り、ロードはされません。<br />
</p>
<ul>
	<li>(未定義)</li>
</ul>


<h2>&lt;head&gt;領域にJavaScriptやCSSを書くには</h2>

<p>
	<code>$px-&gt;theme()-&gt;send_content()</code> を通じて、コンテンツキャビネット <code>head</code> にソースを送ります。<br />
</p>

<div class="unit">
	<div class="code"><pre><code>&lt;?php ob_start(); ?&gt;
&lt;!-- このソースは、テーマのキャビネット &quot;head&quot; に送られます。 --&gt;
&lt;style type=&quot;text/css&quot;&gt;
	/*
		コンテンツ独自のローカルCSSはここに実装します。
	*/
&lt;/style&gt;
&lt;!--
または、次のように、外部のCSSを読み込むこともできます。
---
&lt;link rel=&quot;stylesheet&quot; href=&quot;./index.files/contents.css&quot; type=&quot;text/css&quot; /&gt;
--&gt;
&lt;?php $px-&gt;theme()-&gt;send_content( ob_get_clean(), 'head' ); ?&gt;</code></pre></div>
</div><!-- /.unit -->



<h2>その他、禁止事項</h2>

<ul>
	<li>テーマによって特に認められている項目を除き、テーマの共通モジュールの一部を拡張して利用してはいけません。この場合、まずはテーマ管理者に拡張してよいか相談した上で問題ない内容で拡張を行うか、またはモジュール単位で全体をコピーし、接頭辞 cont を付加した別のモジュールとして再定義して変更するようにします。</li>
</ul>



