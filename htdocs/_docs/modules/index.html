
<?php
	print( $px->theme()->autoindex() );
?>

<h2>概要</h2>

<p>
	このドキュメントは、Pickles Framework が提唱する標準のコーディング規則です。コンテンツを構成するモジュールの定義を含みます。<br />
</p>
<p>
	モジュールは、構成要素単位で構造化されたHTMLとCSSのセットであり、サイト全体の管理者(=テーマの管理者)により定義され、コンテンツ個別の制作者に配布されるものです。<br />
</p>
<p>
	ここで定義されるモジュールは、サイト全体の管理者(=テーマの管理者)により、将来の環境や要件の変化を想定して設計されたものであり、コンテンツ制作者には、そのルールに従ってコンテンツを構築することが求められます。<br />
</p>
<p>
	コンテンツ制作者は、ここに定義されていないモジュールを独自に開発することができます(独自モジュール設計規則については<a href="./contents_custom.html">コンテンツ独自モジュールの定義</a>を参照)が、これは通常推奨されません。独自モジュールを多く開発すると、サイト全体のルールが次第に崩れてくる恐れがあり、管理効率が著しく低下するためです。極力、このドキュメントに定義された、管理者によって設計、提供されたモジュールのみを使ってコンテンツを構築するようにしてください。<br />
</p>


<h3>コーディング規則の設計方針</h3>
<p>
	コーディング規則は、次の方針に基づいて設計します。<br />
</p>
<ul>
	<li>少数(多くの場合1人)の管理者と、大勢のコンテンツ制作者との間の約束事であり、<strong>管理者が全体を効率よく管理できることを主目的として設計する</strong>。</li>
	<li><strong>学習しやすさを重視する</strong>。可能な限り、素のHTMLの構造のままでマークアップできるように設計する。</li>
	<li>なるべく<strong>ドキュメントの分量を圧縮できるように設計する</strong>。初めてドキュメントを読む人に負担をかけないよう配慮する。また、必要以上の規則を設けることは、個々人の作業効率を下げてしまう原因となる。</li>
</ul>


<h3>ターゲットデバイスについての考え方</h3>

<p>
	ターゲットデバイスの種類については、意識しない(=<strong>マルチデバイスに対応できるように設計する</strong>)ものとします。<br />
</p>

<h2>共通モジュール</h2>

<p>共通モジュールは、それぞれ<strong>スタティックモジュール</strong>、<strong>パーツモジュール</strong>、<strong>ユニットモジュール</strong>の3種類のグループに分類されます。</p>

<dl>
	<dt><a href="./statics/">スタティックモジュール</a></dt>
		<dd>スタティックモジュールは、端末の状態(スクリーンの幅など)に影響されず、常に固定の効果を提供します。主に特に基本的でシンプルなショートハンド的なモジュールが含まれます。</dd>
	<dt><a href="./parts/">パーツモジュール</a></dt>
		<dd>パーツモジュールは、ユニットモジュール内に入れ込んで使うことができます。端末の状態(スクリーンの幅など)に合わせて、スタイルが変化する場合があります。スタティックモジュールと異なり、ある程度複雑な構造のパーツが含まれます。</dd>
	<dt><a href="./units/">ユニットモジュール</a></dt>
		<dd>ユニットモジュールは、水平貫通(コンテンツ領域に対して幅100%)の矩形ブロックで、上下に適切なマージンを与えられた概念です。パーツモジュールを内包する入れ物のような役割を果たします(ただし、ユニットモジュール内にユニットモジュールを配置することはできません)。端末の状態(スクリーンの幅など)に合わせて、スタイルが変化する場合があります。</dd>
</dl>


<h2>文字セットと改行コード</h2>

<h3>文字セット</h3>
<p>
	テキスト系のファイルタイプ全般において、文字セットは UTF-8(BOMなし) で統一します。<br />
</p>

<h3>改行コード</h3>
<p>
	テキスト系のファイルタイプ全般において、改行コードは CRLF で統一します。<br />
</p>


<h2>命名規則</h2>

<p>Pickles Framework では次の命名規則を原則としています。</p>

<?php ob_start(); ?>
<style type="text/css">
.cont_exam{
	font-size:90%;
	color:#888888;
}
</style>
<?php $px->theme()->send_content( ob_get_clean(), 'head' ); ?>
<dl>
	<dt>PHP</dt>
		<dd>
			アンダースコア記法で統一する。<br />
			すべて小文字を使用する。<br />
			<span class="cont_exam">例: get_page_info()</span><br />
		</dd>
	<dt>CSS</dt>
		<dd>
			アンダースコア記法を基本とする。<br />
			すべて小文字を使用する。<br />
			<span class="cont_exam">例: module_name</span><br />
			<p>
				ただし、サブモジュール(モジュールの一部として使用されることが前提となるクラス)については、属するモジュール名の後ろにハイフンでサブモジュール名を付加するように命名します。この場合、サブモジュール名は1つだけ指定できます(ハイフンは1度しか使えません)。<br />
				<span class="cont_exam">例：モジュール module_name に属するサブモジュール module_name-sub1, module_name-sub2 など</span><br />
			</p>
		</dd>
	<dt>JavaScript</dt>
		<dd>
			キャメル記法に統一する。<br />
			<span class="cont_exam">例:hogeHoge()</span><br />
		</dd>
</dl>

<h3>接頭辞 cont について</h3>
<p>
	接頭辞 cont は、テーマ設計者とコンテンツ制作者の名前領域を分ける目的で、コンテンツ独自のモジュールに対してつける予約語です。<br />
</p>
<p>
	<span class="cont_exam">
	PHPの例: cont_get_page_info()<br />
	CSSの例: cont_module_name<br />
	JavaScriptの例: contHogeHoge()<br />
	</span>
</p>

<h3>名称の省略について</h3>
<p>
	クラス名等の命名に省略形を使用するべきかどうかについて、Pickles Framework では厳密な取り決めは設けませんが、次のような基準を設け、適切な名称を検討するようにします。<br />
</p>
<ul>
	<li>名称は省略せず、フルスペルで命名することを基本とします。これは、フレームワークに慣れない新しいメンバーでも、ソースコードを見るだけである程度の意味や効果を把握できるように配慮するためです。</li>
	<li>特に頻繁に使用するクラス名には、省略形を用います。これは、タイプする機会が多くなるためミスタイプを防止することにつながること、頻繁に利用するため意味や効果を記憶しやすく、名前から判別しにくくても問題となりにくいことの2点からです。</li>
	<li>頻繁に使うクラスでも、構造が複雑なモジュールには、フルスペルの名称が適しています。これは、モジュール集からコピー＆ペーストしてコーディングする運用が想定されるため、タイピングのコストやミスタイプのリスクが低いと考えられるためです。</li>
</ul>

<h2 id="cont_contents_css">コンテンツ独自モジュールを定義する場合の規則</h2>

<p>
	Pickles Frameworkでは、サイト全体(テーマ)で一元的に管理されているモジュールと干渉しあわないように、いくつかの規則が用意されています。<br />
	詳しくは、<a href="./contents_custom.html">コンテンツコーディング規則</a> のページを参照してください。<br />
</p>


